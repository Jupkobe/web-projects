(()=>{function t(){const t=JSON.parse(localStorage.getItem("todos"));document.querySelector("#todo-list").innerHTML="",t.forEach((t=>{e(t)}))}function e(t){const e=document.querySelector("#todo-list"),o=document.createElement("div");o.className="todo",o.dataset.id=t.id,o.dataset.completed=t.completed,o.innerHTML=`<p>${t.title}</p> <i class="fa-solid fa-xmark"></i>`,t.completed?(o.classList.add("completed"),e.append(o)):e.prepend(o)}localStorage.getItem("todos")||localStorage.setItem("todos",JSON.stringify([])),document.addEventListener("DOMContentLoaded",t),document.querySelector("form").addEventListener("submit",(function(t){let o;if(t.preventDefault(),t.target.firstElementChild.value){if(o=t.target.firstElementChild.value,t.target.firstElementChild.value="","burhanaltintop"==o)return document.body.style.backgroundImage="url('./burhan_altintop.jpg')",void setTimeout((()=>{document.body.style.backgroundImage=""}),5e3);!function(t){const o=JSON.parse(localStorage.getItem("todos"));let a;a=o.length?o[o.length-1].id+1:1;let d={title:t,id:a,completed:!1};o.push(d),localStorage.setItem("todos",JSON.stringify(o)),e(d)}(o)}})),document.querySelector("#todo-list").addEventListener("click",(function(t){if("I"!=t.target.tagName)return;const e=t.target.parentElement;!function(t){let e=JSON.parse(localStorage.getItem("todos"));e=e.filter((e=>e.id!=t)),localStorage.setItem("todos",JSON.stringify(e))}(e.dataset.id),function(t){t.remove()}(e)})),document.querySelector("#todo-list").addEventListener("click",(function(e){const o=e.target.closest("div");o.classList.contains("todo")&&(function(t){const e=JSON.parse(localStorage.getItem("todos"));e.forEach((e=>{e.id==t&&(e.completed=!e.completed)})),localStorage.setItem("todos",JSON.stringify(e))}(o.dataset.id),function(t){"false"==t.dataset.completed?(t.classList.add("completed"),t.dataset.completed="true"):(t.classList.remove("completed"),t.dataset.completed="false")}(o),t())}))})();